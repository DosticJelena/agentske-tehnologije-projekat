(this["webpackJsonpagent-client"]=this["webpackJsonpagent-client"]||[]).push([[0],{18:function(e,t,n){e.exports=n(42)},23:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),l=n(17),r=n.n(l),o=(n(23),n(3)),c=n(4),i=n(6),u=n(5),m=n(2),d=n.n(m),h="192.168.0.20:8080",g=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={hostAddress:"",hostPort:"",hostAlias:"",masterAddress:h.substr(0,h.length-5),masterPort:h.substr(h.length-4,4),nodes:[]},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;d.a.get(this.props.masterURL+"/client/host").then((function(t){console.log(t),e.setState({hostAlias:t.data.alias.substr(0,t.data.alias.length-5),hostAddress:t.data.address.substr(0,t.data.address.length-5),hostPort:t.data.address.substr(t.data.address.length-4,4)})})).catch((function(e){console.log(e)})),d.a.get(this.props.masterURL+"/connection").then((function(t){console.log(t),e.setState({nodes:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("h2",null,"Master Node Info"),s.a.createElement("hr",null),s.a.createElement("div",{className:"this-node-info"},s.a.createElement("p",null,"IP Address: ",s.a.createElement("span",null,this.state.masterAddress)),s.a.createElement("p",null,"Port: ",s.a.createElement("span",null,this.state.masterPort))),s.a.createElement("br",null),s.a.createElement("h2",null,"This Node Info ",this.state.hostAddress===this.state.masterAddress?s.a.createElement("h4",null,"[master]"):null),s.a.createElement("hr",null),s.a.createElement("div",{className:"this-node-info"},s.a.createElement("p",null,"IP Address: ",s.a.createElement("span",null,this.state.hostAddress)),s.a.createElement("p",null,"Port: ",s.a.createElement("span",null,this.state.hostPort)),s.a.createElement("p",null,"Alias: ",s.a.createElement("span",null,this.state.hostAlias)))),s.a.createElement("div",{className:"col-8"},s.a.createElement("h2",null,"Other Nodes"),s.a.createElement("hr",null),s.a.createElement("div",{className:"all-nodes"},s.a.createElement("table",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("strong",null,"IP Address")),s.a.createElement("td",null,s.a.createElement("strong",null,"Port"))),this.state.nodes.map((function(e){return s.a.createElement("tr",null,s.a.createElement("td",null,e.substr(0,e.length-5)),s.a.createElement("td",null,e.substr(e.length-4,4)))}))))))}}]),n}(s.a.Component),p=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).setAgentClass=function(e){a.setState({agClass:e.target.value})},a.setAgentName=function(e){a.setState({agName:e.target.value})},a.socketFunc=function(){var e=a.props.wsURL,t=new WebSocket(e);t.onmessage=function(e){console.log(t.readyState+" ---- (message) ---- "),console.log(JSON.parse(e.data)),a.setState({runningAgents:JSON.parse(e.data)})},t.onclose=function(){return t=null}},a.getRunningAgents=function(){d.a.get(a.props.masterURL+"/client/agents/running").then((function(e){console.log(e),a.setState({runningAgents:e.data})})).catch((function(e){console.log(e)}))},a.startAgentFunction=function(){d.a.put(a.props.masterURL+"/client/agents/running/"+a.state.agClass+"/"+a.state.agName).then((function(e){console.log(e),a.setState({agClass:"",agName:""}),a.getRunningAgents()})).catch((function(e){console.log(e)}))},a.stopAgentFunction=function(e){var t={headers:{"Content-Type":"application/json"},data:{host:e.host,type:e.type,name:e.name}};d.a.delete(a.props.masterURL+"/client/agents/running",t).then((function(e){console.log(e),a.getRunningAgents()})).catch((function(e){console.log(e)}))},a.state={runningAgents:[],agentClasses:[],agClass:"",agName:"",names:["nekretnine.rs","4zida.rs","nadjidom.com"]},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;d.a.get(this.props.masterURL+"/client/agents/classes").then((function(t){console.log(t),e.setState({agentClasses:t.data})})).catch((function(e){console.log(e)})),this.getRunningAgents(),this.socketFunc()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("div",null,s.a.createElement("h2",null,"Agent Types"),s.a.createElement("hr",null),s.a.createElement("table",null,this.state.agentClasses.map((function(e){return s.a.createElement("tr",null,s.a.createElement("td",null," ",e.module," "))}))),s.a.createElement("br",null)),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("h2",null,"Start Agent"),s.a.createElement("hr",null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Agent Type"),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},this.state.agentClasses.map((function(t){return s.a.createElement("button",{className:"dropdown-item",value:t.module,onClick:e.setAgentClass},t.module)}))))),s.a.createElement("div",{className:"col-3"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Agent Name"),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},this.state.names.map((function(t){return s.a.createElement("button",{className:"dropdown-item",value:t,onClick:e.setAgentName},t)}))))),s.a.createElement("div",{className:"col-7"},""===this.state.agClass?null:s.a.createElement("label",null,"Type: ",s.a.createElement("input",{value:this.state.agClass,disabled:!0,className:"sender"})),""===this.state.agName?null:s.a.createElement("label",null,"Name: ",s.a.createElement("input",{value:this.state.agName,disabled:!0,className:"sender"})),""===this.state.agClass||""===this.state.agName?null:s.a.createElement("button",{className:"btn start-stop",onClick:this.startAgentFunction},"Start")))))),s.a.createElement("div",{className:"col-8"},s.a.createElement("h2",null,"Running Agents"),s.a.createElement("hr",null),s.a.createElement("div",{className:"all-nodes"},s.a.createElement("table",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("strong",null,"Agent Name")),s.a.createElement("td",null,s.a.createElement("strong",null,"Host Address")),s.a.createElement("td",null,s.a.createElement("strong",null,"Type")),s.a.createElement("td",null,s.a.createElement("strong",null))),this.state.runningAgents.map((function(t){return s.a.createElement("tr",null,s.a.createElement("td",null,t.name),s.a.createElement("td",null,t.host.address),s.a.createElement("td",null,s.a.createElement("em",null,t.type.type)),s.a.createElement("td",null,s.a.createElement("button",{className:"btn start-stop",onClick:function(){return e.stopAgentFunction(t)}},"Stop")))}))))))}}]),n}(s.a.Component),E=n(7),v=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).setSender=function(e){console.log(e),a.setState({sender:e})},a.setReceivers=function(e){var t=Object(E.a)(a.state.receivers),n=t.indexOf(e);-1!==n?(t.splice(n,1),a.setState({receivers:t})):a.setState({receivers:[].concat(Object(E.a)(a.state.receivers),[e])})},a.setPerformative=function(e){a.setState({performative:e.target.value})},a.socketFunc=function(){var e=a.props.wsURL,t=new WebSocket(e);t.onmessage=function(e){console.log(t.readyState+" ---- (message) ---- "),console.log(JSON.parse(e.data)),a.setState({runningAgents:JSON.parse(e.data)})},t.onclose=function(){return t=null}},a.getRunningAgents=function(){d.a.get(a.props.masterURL+"/client/agents/running").then((function(e){console.log(e),a.setState({runningAgents:e.data})})).catch((function(e){console.log(e)}))},a.sendMessage=function(){d.a.post(a.props.masterURL+"/client/messages",{sender:a.state.sender,receivers:a.state.receivers,content:"https://www."+a.state.sender.name+"/",performative:a.state.performative}).then((function(e){console.log(e),a.setState({performative:"NOT_UNDERSTOOD",sender:null,receivers:[]})})).catch((function(e){console.log(e)}))},a.state={performatives:[],runningAgents:[],sender:null,receivers:[],performative:"NOT_UNDERSTOOD"},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;d.a.get(this.props.masterURL+"/client/messages").then((function(t){console.log(t),e.setState({performatives:t.data})})).catch((function(e){console.log(e)})),this.getRunningAgents(),this.socketFunc()}},{key:"render",value:function(){var e,t=this;return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("h2",null,"Performatives"),s.a.createElement("hr",null),s.a.createElement("div",{className:"perfs"},this.state.performatives.map((function(e){return s.a.createElement("button",{className:"perf-btn",value:e,onClick:t.setPerformative},e)})))),s.a.createElement("div",{className:"col-8"},s.a.createElement("h2",null,"Create Message"),s.a.createElement("hr",null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-2"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Sender"),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},this.state.runningAgents.filter((function(e){return"Master"===e.type.type})).map((function(e){return s.a.createElement("button",{className:"dropdown-item",value:e.name,onClick:function(){return t.setSender(e)}},e.name," | ",e.type.type)}))))),s.a.createElement("div",{className:"col-3"},null===this.state.sender?null:s.a.createElement("div",{className:"sender"},this.state.sender.name," | ",s.a.createElement("em",null,this.state.sender.type.type))),s.a.createElement("div",{className:"col-2"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Receivers"),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},this.state.runningAgents.filter((function(e){var n;return"Master"!==e.type.type&&e.name===(null===(n=t.state.sender)||void 0===n?void 0:n.name)})).map((function(e){return s.a.createElement("label",null,s.a.createElement("input",{onClick:function(){return t.setReceivers(e)},value:e.name+" ("+e.host.address+")",type:"checkbox"})," ",e.name," | ",e.type.type)}))))),s.a.createElement("div",{className:"col-3"},this.state.receivers.map((function(e){return s.a.createElement("div",{className:"sender"},e.name," | ",s.a.createElement("em",null,e.type.type))})))),s.a.createElement("hr",null),s.a.createElement("div",{className:"row all-nodes"},s.a.createElement("table",null,s.a.createElement("tr",null,s.a.createElement("td",null,"Web Site"),s.a.createElement("td",null,"Performative")),s.a.createElement("tr",null,this.state.sender?s.a.createElement("td",null,"https://www.",null===(e=this.state.sender)||void 0===e?void 0:e.name,"/"):s.a.createElement("td",null,"https://"),s.a.createElement("td",null,this.state.performative)))),s.a.createElement("button",{className:"btn msg-btn",onClick:this.sendMessage},"Send")))}}]),n}(s.a.Component),b=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).socketFunc=function(){var e=a.props.wsURL+"/results",t=new WebSocket(e);t.onmessage=function(e){console.log(t.readyState+" ---- (message) ---- "),console.log(e.data),a.setState({resultFile:e.data})},t.onclose=function(){return t=null}},a.state={resultFile:""},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.socketFunc()}},{key:"render",value:function(){return s.a.createElement("div",{className:"row"},this.state.resultFile)}}]),n}(s.a.Component),w=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).showNodesFunction=function(){a.setState({showAgents:!1,showNodes:!0,showMessages:!1,showResults:!1})},a.showAgentsFunction=function(){a.setState({showAgents:!0,showNodes:!1,showMessages:!1,showResults:!1})},a.showMessagesFunction=function(){a.setState({showAgents:!1,showNodes:!1,showMessages:!0,showResults:!1})},a.showResultsFunction=function(){a.setState({showAgents:!1,showNodes:!1,showMessages:!1,showResults:!0})},a.state={masterURL:"http://192.168.0.20:8080/WarAT2020/rest",wsURL:"ws://192.168.0.20:8080/WarAT2020/ws",showNodes:!0,showAgents:!1,showMessages:!1,showResults:!1},a}return Object(c.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{className:"AgentCenter"},s.a.createElement("h1",null,"Agent Center",s.a.createElement("button",{onClick:this.showNodesFunction,className:this.state.showNodes?"btn show-hide-btn active-btn":"btn show-hide-btn"},"Nodes"),s.a.createElement("button",{onClick:this.showAgentsFunction,className:this.state.showAgents?"btn show-hide-btn active-btn":"btn show-hide-btn"},"Agents"),s.a.createElement("button",{onClick:this.showMessagesFunction,className:this.state.showMessages?"btn show-hide-btn active-btn":"btn show-hide-btn"},"Messages"),s.a.createElement("button",{onClick:this.showResultsFunction,className:this.state.showResults?"btn show-hide-btn active-btn":"btn show-hide-btn"},"Results")),s.a.createElement("hr",null),s.a.createElement("br",null),this.state.showNodes?s.a.createElement(g,{masterURL:this.state.masterURL}):null,this.state.showAgents?s.a.createElement(p,{wsURL:this.state.wsURL,masterURL:this.state.masterURL}):null,this.state.showMessages?s.a.createElement(v,{wsURL:this.state.wsURL,masterURL:this.state.masterURL}):null,this.state.showResults?s.a.createElement(b,{wsURL:this.state.wsURL,masterURL:this.state.masterURL}):null)}}]),n}(s.a.Component);n(41);var f=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.02656aa9.chunk.js.map